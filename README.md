# Git and GitHub tutorial  

Вы решили познакомиться с Git и GitHub? Отлично!  

В этом руководстве вы найдете полный, а главное понятный порядок действий при работе с Git. Присаживайтесь поудобнее.  

## Установка Git

Первым делом нужно конечно скачать и установить Git на ваш компьютер. Это можно сделать с [официального сайта](https://git-scm.com/downloads 'Git - Downloads') совершенно без вирусов.  

После установки нужно открыть программу Git Bash на вашем компьютере и ввести имя пользователя и вашу почту следующими командами:  

```bash
$ git config --global user.name "имя_пользователя"
$ git config --global user.email ваша_почта@example.com
```
Это нужно чтобы Git понимал, кто вносит изменения в файлы.  

## Инициализация репозитория

#### **Сделать папку репозиторием — ```git init```**  

Чтобы Git начал отслеживать изменения в проекте, папку с файлами этого проекта нужно сделать **Git-репозиторием** (от англ. repository — «хранилище»). Для этого следует переместиться в неё и ввести команду ```git init``` (от англ. initialize — «инициализировать»).  

Например, создайте папку ```first-project``` и сделайте её Git-репозиторием: перейдите в неё с помощью команды ```cd``` и выполните ```git init```.  

```bash
$ cd ~/dev/first-project # перешли в нужную папку

$ git init # создали репозиторий
```

#### **Проверить состояние репозитория — ```git status```**  

После инициализации репозитория ```first-project``` запустите команду ```git status``` (от англ. status — «статус», «состояние») — она показывает текущее состояние репозитория.  

Команда ```git status``` выведет:
* название текущей ветки: ```On branch master``` или ```On branch main```;
* сообщение о том, что в репозитории ещё нет коммитов: ```No commits yet```;
* сообщение, которое говорит: «чтобы что-нибудь закоммитить (то есть зафиксировать), нужно сначала это создать» — ```nothing to commit (create/copy files and use "git add" to track)```.

## Добавление файлов в репозиторий  

**Подготовить файлы к сохранению — ```git add```**  

Создайте любые файлы в репозитории и запустите ```git status```, после чего выведется информация об этих файлах.  

Git сообщит, что в папке ```first-project``` есть ```untracked files``` (от англ. track — «следить», untracked — «неотслеженный», «неотслеживаемый») — ещё не отслеживаемые файлы.  

Состояние ```untracked значит```, что Git ещё не хранит информацию о версиях файла и не может отследить, как он изменялся.  

Мы можем использовать команду ```git add --all``` (от англ. add — «добавить» + от англ. all — «всё») для отслеживания сразу всех файлов в репозитории. Ключ, или флаг, ```--all``` позволяет подготовить к сохранению все файлы в репозитории.

```bash
$ git add --all # подготовили к сохранению все файлы в репозитории
$ git status # проверили статус
```

Добавлять файлы можно и по одному, без ключа ```--all```.  

```bash
$ git add todo.txt
$ git add readme.txt
$ git status
```

Также можно добавить текущую папку целиком — в этом случае все файлы в ней тоже будут добавлены. Обратиться к текущей папке в Bash позволяет точка (```.```).  

```bash
$ git add . # добавить всю текущую папку
$ git status
```

Получилось! Файлы, которые отмечены зелёным, теперь отслеживаются и готовы к сохранению. Но сохранения пока не произошло, потому что команда ```git add``` только запоминает текущее содержимое (контент) файла.  

## Делаем первый коммит  

**Коммит** — это одна из основных сущностей в Git (и в других системах контроля версий). Коммит гарантирует, что изменения будут сохранены в истории и при необходимости к ним можно будет «откатиться». Это как если бы вы могли выполнить операцию Ctrl+Z для целой папки (репозитория).
В этом уроке вы сделаете свой первый коммит.  

#### **Выполнить коммит — ```git commit```**  

Сделать коммит можно командой ```git commit``` c ключом ```-m``` (от англ. message — «сообщение»), который присваивает коммиту сообщение. 

Обычно в таком сообщении поясняется, в чём именно состояли изменения. Это как заметки на полях: благодаря им проще читать и понимать текст. Сообщение коммита выполняет те же функции — улучшает понимание и упрощает навигацию. Оно пишется после ключа ```-m``` в кавычках.  

Например, перейдите в папку ```first-project``` и выполните коммит со следующим комментарием.  

```bash
$ git commit -m 'Мой первый коммит!'
```

После нажатия ```Enter``` текущая версия файлов будет сохранена в репозитории с сообщением ```Мой первый коммит!```. Коммит (по названию команды ```git commit```) — это по сути список файлов с их контентом.  

Команда ```git commit``` выведет информацию о коммите.  

* ```[master (root-commit) baa3b6e]``` значит:  

  * коммит был в ветке ```master```;
    
  * ```root-commit``` — это самый первый, или «корневой» (англ. root), коммит в ветке, у следующих коммитов такой надписи не будет;

  * ```baa3b6e``` — сокращённый идентификатор коммита.

* ```2 files changed, 1 insertion(+)``` значит:

  * изменились два файла (```readme.txt``` и ```todo.txt```);
 
  * одна строка была добавлена.

* Строки вида ```create mode 100644 readme.txt``` — это более подробная информация о новых (добавленных в Git) файлах.

  * ```create``` (англ. «создать») говорит, что файл был создан. Если бы файл был удалён, на этом месте было бы слово ```delete``` (англ. «удалить»).

  * ```mode 100644``` сообщает, что это обычный файл. Также возможны варианты ```100755``` для исполняемых файлов (например, что-нибудь.exe) и ```120000``` для файлов-ссылок в Linux.

## История коммитов  

#### **Просмотреть историю коммитов — ```git log```**  

Обратите внимание, что по умолчанию ```git log``` выводит коммиты в обратном хронологическом порядке — последние коммиты оказываются первыми сверху. В этом можно убедиться, если посмотреть на дату и время их создания.  

## Регистрация на GitHub  

#### Инструкция по регистрации  

1. В правом верхнем углу главной страницы GitHub нажмите на Sign up (англ. «зарегистрироваться»).  
На экране будут последовательно появляться поля для ввода.  

2.1. Введите адрес электронной почты (англ. Enter your email).  

2.2. Придумайте пароль (англ. Create a password).  

2.3. Введите имя пользователя (англ. Enter a username).  

3. Платформа спросит, хотите ли вы получать на почту рассылку с обновлениями и новостями (англ. Would you like to receive product updates and announcements via email?). Введите ```y```, если хотите получать рассылку, или ```n```, если не хотите.  

4. Нажмите кнопку Continue (англ. «продолжить»).  

5. GitHub предложит вам пройти капчу. Сделайте это.  

6. После прохождения капчи нажмите Create account (англ. «создать аккаунт»).  

7. Введите короткий код, который будет отправлен на указанный вами почтовый адрес.

Регистрация завершена!  

## Создание удаленного репозитория  

#### Инструкция по созданию репозитория на GitHub  

1. Зайдите в свой профиль по ссылке ```https://github.com/username```, где ```username``` — имя, которое вы указали при регистрации.  

Эта страница — презентация вас и ваших проектов. Её видят другие пользователи. Надпись **You don't have any public repositories yet** (англ. «у вас пока нет публичных репозиториев») сообщает, что пока у вас нет проектов.  

2. Создайте репозиторий. Для этого перейдите на вкладку **Repositories** (англ. «репозитории»), а затем нажмите на зелёную кнопку **New** (англ. «новый») справа.

3. Открылось окно создания нового репозитория. Назовите его ```first-project```. Название удалённого репозитория необязательно должно совпадать с именем папки проекта у вас на компьютере. Но чтобы не путаться, будем называть их одинаково.  

Другие поля вам пока не понадобятся. Смело нажимайте на зелёную кнопку **Create repository** (англ. «создать репозиторий») внизу.  

## Генерация SSH-ключа  

#### Проверка наличия SSH-ключа  

Прежде чем генерировать SSH-ключи, убедитесь, что у вас их ещё нет. По умолчанию директория с SSH-ключами находится в домашней директории пользователя. Перейдите в неё.  

```bash
$ cd ~ # перешли в домашнюю директорию
```

Обычно SSH-ключи находятся в директории ```.ssh/```. Проверить наличие этой директории и файлов в ней можно с помощью следующей команды.  

```bash
$ ls -la .ssh/ # вывели список созданных ключей
```

Если папка пустая или её нет, всё в порядке.  

Если есть файлы с похожими названиями, SSH-ключи уже создавались:  

* id_dsa.pub;  

* id_ecdsa.pub;  

* id_ed25519.pub;  

* id_rsa.pub.  

Если вы не создавали эти файлы, удалите их все.  

#### Инструкция по генерации SSH-ключа  

1. Для генерации SSH-пары можно использовать программу ```ssh-keygen```. Откройте терминал и введите следующую команду.  

```bash
$ ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

Используйте электронную почту, к которой привязан ваш GitHub-аккаунт.  

Если вы видите сообщение об ошибке, то, скорее всего, ваша система не поддерживает алгоритм шифрования ```ed25519```. Ничего страшного: используйте другой алгоритм.  

```bash
$ ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```

После ввода отобразится такое сообщение.  

```bash
> Generating public/private rsa key pair. # сгенерированы публичный и приватный ключи
```

2. Укажите место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите ```Enter```.  

```bash
> Enter a file in which to save the key (C:\Users\<имя_пользователя>\.ssh\):[Press enter]
```

Теперь в указанной директории появится пара ключей.
Программа запросит **кодовую фразу** (англ. passphrase) для доступа к SSH-ключу. Вы можете оставить поле пустым. Для этого нажмите ```Enter```, а затем ещё раз ```Enter``` для подтверждения.  

4. Готово! Теперь осталось проверить, что ключи действительно сгенерировались. Для этого вызовите эту команду.

```bash
ls -a ~/.ssh
```

На экране должны появиться два файла — один с расширением ```.pub```, другой — без. Файл в ```.pub``` — публичный, им можно делиться с веб-сайтами или коллегами. Файл без расширения ```.pub``` — приватный. **Ни в коем случае не передавайте его никому!**  

## Привязка ключа к GitHub  

#### Инструкция по связыванию SSH-ключа и GitHub-аккаунта  

1. После выполнения команды ```ssh-keygen``` в директории ```~/.ssh``` будет создано два файла — ```id_ed25519``` и ```id_ed25519.pub``` (или ```id_rsa``` и ```id_rsa.pub``` — в зависимости от того, какой алгоритм вы использовали):  

* ```id_ed25519```/```id_rsa``` — приватный ключ (файл без .pub в конце). Ни в коем случае не копируйте его и не делитесь им.

* ```id_ed25519.pub```/```id_rsa.pub``` — публичный ключ (на это указывает расширение ```.pub```).

Скопируйте содержимое файла с публичным ключом в буфер обмена.  

```bash
# скопировать содержимое ключа в буфер обмена:
$ clip < ~/.ssh/id_rsa.pub
# для ed25519:
$ clip < ~/.ssh/id_ed25519.pub
```

2. Перейдите на GitHub и выберите пункт **Settings** (англ. «настройки») в меню аккаунта.

3. В меню слева нажмите на пункт **SSH and GPG keys**.  

4. В открывшейся вкладке выберите **New SSH key** (англ. «новый SSH-ключ»).

5. В поле **Title** (англ. «заголовок») напишите название ключа. Например, **Personal key** (англ. «личный ключ»).  

6. В поле **Key type** (англ. «тип ключа») должно быть **Authentication Key** (англ. «ключ аутентификации»).

7. В поле **Key** скопируйте ваш ключ из буфера обмена.

8. Нажмите на кнопку **Add SSH key** (англ. «добавить SSH-ключ»).

9. Проверьте правильность ключа с помощью следующей команды.  

```bash
$ ssh -T git@github.com
```

## Связка локального и удаленного репозитория  

#### Привязать удалённый репозиторий к локальному — ```git remote add```  

Перейдите на страницу удалённого репозитория, выберите тип ```SSH``` и скопируйте URL. Кнопка справа позволит сделать это мгновенно.  

Откройте консоль, перейдите в каталог локального репозитория и введите команду ```git remote add``` (от англ. remote — «удалённый» и add — «добавить»).  

```bash
$ cd ~/dev/first-project
$ git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git
```

Команде необходимо передать два параметра: имя удалённого репозитория и его URL. В качестве имени используйте слово ```origin```. А URL вы скопировали со страницы удалённого репозитория.  

**Убедиться, что репозитории связаны, — ```git remote -v```**  

```bash
$ git remote -v
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (fetch)
origin    git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ-ПРОЕКТА%.git (push)
```

## Синхронизация локального и удаленного репозитория  

#### Отправить изменения на удалённый репозиторий — ```git push```  

Вы уже прошли весь «цикл коммита»: подготовили файлы с помощью ```git add```, закоммитили их с комментарием командой ```git commit -m```. Осталось загрузить содержимое локального репозитория на GitHub. За это отвечает команда ```git push``` (от англ. push — «толкать»).  

В первый раз эту команду нужно вызвать с флагом ```-u``` и параметрами ```origin``` (имя удалённого репозитория) и ```main``` или ```master``` (название текущей ветки). Флаг ```-u``` свяжет локальную ветку с одноимённой удалённой.  

```bash
$ git push -u origin main # Если команда приведёт к ошибке, попробуйте 
                          # заменить main на master.
```

При взаимодействии с удалёнными репозиториями Git выводит в консоль отладочную информацию: количество объектов (файлов), которые отправляются на сервер, информацию о прогрессе сжатия и записи и так далее.  

Если вы указывали кодовую фразу при настройке SSH-ключей, её нужно будет ввести.  

Зайдите в репозиторий ```first-project``` на GitHub. Вы увидите, что в репозитории появились файлы с изменениями.  

В дальнейшем при работе с удалённым репозиторием флаг ```-u``` можно опустить и писать просто ```git push```.  

## Заключение  

Это был полный курс знакомства с Git и GitHub. Надеюсь он вам помог и вы в полной мере ощутили мощь этого ресурса. Удачи!
